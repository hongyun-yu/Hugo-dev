<!DOCTYPE html>
<html lang="zh-cn" dir="ltr">
    <head><meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1'><meta name='description' content="编译原理第一、二、三章知识点，主要内容来自CSDN pi31415926535x ，结合学习的内容进行删改">
<title>编译原理-导学</title>

<link rel='canonical' href='https://hongyun-yu.github.io/Hugo-dev/p/%E7%BC%96%E8%AF%91%E5%8E%9F%E7%90%86-%E5%AF%BC%E5%AD%A6/'>

<link rel="stylesheet" href="/Hugo-dev/scss/style.min.931ff95f801376156525fd9d531ff3120af79ead784dd3bd6ce58d23d430b394.css"><script src="https://apps.bdimg.com/libs/jquery/2.1.4/jquery.min.js"></script>

<script>
    
    $(window).scroll(function() {
    if ($(this).scrollTop()) {
        $('#back-to-top').fadeIn();
    } else {
        $('#back-to-top').fadeOut();
    }
    });

    
    $('#back-to-top').click(function() {
    $('html, body').animate({scrollTop: 0}, 1000);
    return false;
    });
</script>
<meta property='og:title' content="编译原理-导学">
<meta property='og:description' content="编译原理第一、二、三章知识点，主要内容来自CSDN pi31415926535x ，结合学习的内容进行删改">
<meta property='og:url' content='https://hongyun-yu.github.io/Hugo-dev/p/%E7%BC%96%E8%AF%91%E5%8E%9F%E7%90%86-%E5%AF%BC%E5%AD%A6/'>
<meta property='og:site_name' content='羡余'>
<meta property='og:type' content='article'><meta property='article:section' content='Post' /><meta property='article:published_time' content='2025-03-19T00:00:00&#43;00:00'/><meta property='article:modified_time' content='2025-03-30T22:10:11&#43;08:00'/>
<meta name="twitter:title" content="编译原理-导学">
<meta name="twitter:description" content="编译原理第一、二、三章知识点，主要内容来自CSDN pi31415926535x ，结合学习的内容进行删改">
    <link rel="shortcut icon" href="/Hugo-dev/fish.svg" />

  


    </head>
    <body class="
    article-page
    ">
    <script>
        (function() {
            const colorSchemeKey = 'StackColorScheme';
            if(!localStorage.getItem(colorSchemeKey)){
                localStorage.setItem(colorSchemeKey, "auto");
            }
        })();
    </script><script>
    (function() {
        const colorSchemeKey = 'StackColorScheme';
        const colorSchemeItem = localStorage.getItem(colorSchemeKey);
        const supportDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches === true;

        if (colorSchemeItem == 'dark' || colorSchemeItem === 'auto' && supportDarkMode) {
            

            document.documentElement.dataset.scheme = 'dark';
        } else {
            document.documentElement.dataset.scheme = 'light';
        }
    })();
</script>
<div class="container main-container flex on-phone--column extended">


        <div id="article-toolbar" style="position: sticky;top: 5px;z-index: 1000;">
            <a href="/Hugo-dev" class="back-home">
                <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-chevron-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <polyline points="15 6 9 12 15 18" />
</svg>



                <span>返回</span>
            </a>
        </div>
    

    

    <aside class="sidebar right-sidebar sticky">
        
            
                
    <section class="widget archives">
        <div class="widget-icon">
            <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <line x1="5" y1="9" x2="19" y2="9" />
  <line x1="5" y1="15" x2="19" y2="15" />
  <line x1="11" y1="4" x2="7" y2="20" />
  <line x1="17" y1="4" x2="13" y2="20" />
</svg>



        </div>
        <h2 class="widget-title section-title">目录</h2>
        
        <div class="widget--toc">
            <nav id="TableOfContents">
  <ol>
    <li><a href="#第一章-引论">第一章 引论</a>
      <ol>
        <li><a href="#什么是编译程序">什么是编译程序</a>
          <ol>
            <li><a href="#翻译程序translator">翻译程序(Translator)</a></li>
            <li><a href="#编译程序complier">编译程序(Complier)</a></li>
            <li><a href="#解释程序interpretor">解释程序(Interpretor)</a></li>
          </ol>
        </li>
        <li><a href="#为什么学习编译原理">为什么学习编译原理</a>
          <ol>
            <li><a href="#从计算机科学与技术可以学到什么">从计算机科学与技术可以学到什么：</a></li>
            <li><a href="#计算思维是什么">计算思维是什么：</a></li>
            <li><a href="#计算思维的广泛方法">计算思维的广泛方法：</a></li>
          </ol>
        </li>
        <li><a href="#编译过程">编译过程</a>
          <ol>
            <li><a href="#词法分析">词法分析</a></li>
            <li><a href="#语法分析">语法分析</a></li>
            <li><a href="#中间代码产生">中间代码产生</a></li>
            <li><a href="#优化">优化</a></li>
            <li><a href="#目标代码产生">目标代码产生</a></li>
          </ol>
        </li>
        <li><a href="#编译程序的结构">编译程序的结构</a>
          <ol>
            <li><a href="#编译程序总框">编译程序总框</a></li>
            <li><a href="#出错处理">出错处理</a></li>
            <li><a href="#遍pass">遍(pass)</a></li>
            <li><a href="#编译前端与后端">编译前端与后端</a></li>
          </ol>
        </li>
        <li><a href="#编译程序生成">编译程序生成</a>
          <ol>
            <li><a href="#以汇编语言和机器语言为工具">以汇编语言和机器语言为工具</a></li>
            <li><a href="#高级语言书写">高级语言书写</a></li>
          </ol>
        </li>
      </ol>
    </li>
    <li><a href="#第二章-高级程序设计语言概述">第二章 高级程序设计语言概述</a>
      <ol>
        <li><a href="#常用的高级程序设计语言">常用的高级程序设计语言</a>
          <ol>
            <li><a href="#高级程序设计语言的优点">高级程序设计语言的优点</a></li>
          </ol>
        </li>
        <li><a href="#程序设计语言的定义">程序设计语言的定义</a>
          <ol>
            <li><a href="#语法">语法</a></li>
            <li><a href="#语义">语义</a></li>
            <li><a href="#程序语言的基本功能和层次结构">程序语言的基本功能和层次结构</a></li>
            <li><a href="#程序的层次结构">程序的层次结构</a></li>
            <li><a href="#程序语言成分的逻辑和实现意义">程序语言成分的逻辑和实现意义</a></li>
          </ol>
        </li>
      </ol>
    </li>
    <li><a href="#第三章-高级程序设计语言的语法描述">第三章 高级程序设计语言的语法描述</a>
      <ol>
        <li><a href="#上下文无关文法">上下文无关文法</a>
          <ol>
            <li><a href="#文法">文法</a></li>
            <li><a href="#语法描述的几个基本概念">语法描述的几个基本概念</a></li>
            <li><a href="#上下文无关文法-1">上下文无关文法</a></li>
            <li><a href="#巴科斯范式bnf">巴科斯范式（BNF）</a></li>
          </ol>
        </li>
        <li><a href="#32-文法与语言">3.2 文法与语言</a>
          <ol>
            <li><a href="#推导">推导</a></li>
            <li><a href="#句型句子和语言">句型、句子和语言</a></li>
            <li><a href="#句型和句子练习">句型和句子练习</a></li>
          </ol>
        </li>
        <li><a href="#33-语法树与二义性">3.3 语法树与二义性</a>
          <ol>
            <li><a href="#推导与语法树">推导与语法树</a></li>
          </ol>
        </li>
        <li><a href="#34-形式语言鸟瞰">3.4 形式语言鸟瞰</a>
          <ol>
            <li><a href="#四种类型文法描述能力比较">四种类型文法描述能力比较</a></li>
            <li><a href="#上下文无关文法-2">上下文无关文法</a></li>
            <li><a href="#上下文有关文法">上下文有关文法</a></li>
            <li><a href="#0型语言">0型语言</a></li>
          </ol>
        </li>
      </ol>
    </li>
    <li><a href="#习题">习题</a></li>
    <li><a href="#参考">参考</a></li>
  </ol>
</nav>
        </div>
    </section>

            
        
    </aside>


            <main class="main full-width">
    <article class="main-article">
    <header class="article-header">

    <div class="article-details">
    
    <header class="article-category">
        
            <a href="/Hugo-dev/categories/%E7%BC%96%E8%AF%91%E5%8E%9F%E7%90%86/" >
                编译原理
            </a>
        
    </header>
    

    <div class="article-title-wrapper">
        <h2 class="article-title">
            <a href="/Hugo-dev/p/%E7%BC%96%E8%AF%91%E5%8E%9F%E7%90%86-%E5%AF%BC%E5%AD%A6/">编译原理-导学</a>
        </h2>
    
        
        <h3 class="article-subtitle">
            编译原理第一、二、三章知识点，主要内容来自CSDN pi31415926535x ，结合学习的内容进行删改
        </h3>
        
    </div>

    
        <footer class="article-time">
            
                <div>
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <path d="M11.795 21h-6.795a2 2 0 0 1 -2 -2v-12a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v4" />
  <circle cx="18" cy="18" r="4" />
  <path d="M15 3v4" />
  <path d="M7 3v4" />
  <path d="M3 11h16" />
  <path d="M18 16.496v1.504l1 1" />
</svg>
                    <time class="article-time--published">2025-03-19</time>
                </div>
            

            
            
                        最后修改:
                        <time class="article-time--updated" datetime="2025-03-30 22:10:11 &#43;0800 CST" title="2025-03-30 22:10:11 &#43;0800 CST">
                            2025-03-30
                        </time>

            

            
            <div id="viewCount">
                <svg  xmlns="http://www.w3.org/2000/svg"  width="24"  height="24"  viewBox="0 0 24 24"  fill="none"  stroke="currentColor"  stroke-width="2"  stroke-linecap="round"  stroke-linejoin="round"  class="icon icon-tabler icons-tabler-outline icon-tabler-eye"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M10 12a2 2 0 1 0 4 0a2 2 0 0 0 -4 0" /><path d="M21 12c-2.4 4 -5.4 6 -9 6c-3.6 0 -6.6 -2 -9 -6c2.4 -4 5.4 -6 9 -6c3.6 0 6.6 2 9 6" /></svg>
                <time class="article-time--reading">
                    
                    <span id="vercount_value_page_pv">loading... </span>次
                </time>
            </div>
        </footer>
    

</div>

</header>

    <section class="article-content">
    
    
    <img src="images/小鸟游六花.png" alt="小鸟游六花" style="zoom: 50%;" />
<h1 id="编译原理-第一章-第三章">编译原理-第一章-第三章
</h1><h2 id="第一章-引论">第一章 引论
</h2><p>课程内容： 介绍程序设计语言 <strong>编译程序构造</strong> 的 <strong>基本原理</strong> 和 <strong>基本实现技术</strong> 。</p>
<h3 id="什么是编译程序">什么是编译程序
</h3><h4 id="翻译程序translator">翻译程序(Translator)
</h4><p>把某一种语言程序（称为 <code>源语言程序</code>） <strong>等价</strong> 的转换成另一种语言程序（称为 <code>目标语言程序</code>） 的程序。</p>
<img src="images/01.png" alt="翻译程序" style="zoom:50%;" />
<h4 id="编译程序complier">编译程序(Complier)
</h4><p>把某一种 <code>高级语言程序</code> 等价的转化成另一种 <code>低级语言程序</code> （如汇编语言或机器语言程序）的程序。</p>
<img src="images/02.png" alt="编译程序" style="zoom:50%;" />
<p>编译程序可分为： <code>诊断编译程序</code>、<code>优化编译程序</code>、<code>交叉编译程序</code>、<code>可变目标编译程序</code> 。</p>
<h4 id="解释程序interpretor">解释程序(Interpretor)
</h4><p>把 <code>源语言</code> 写的源程序作为输入，但不产生目标 程序，而是 <code>边解释边执行</code> 源程序。</p>
<img src="images/03.png" alt="j解释程序" style="zoom:50%;" />
<h3 id="为什么学习编译原理">为什么学习编译原理
</h3><h4 id="从计算机科学与技术可以学到什么">从计算机科学与技术可以学到什么：
</h4><ul>
<li>理解计算系统</li>
<li>设计计算系统</li>
<li>训练计算思维(Computational Thinking)</li>
</ul>
<h4 id="计算思维是什么">计算思维是什么：
</h4><p>计算思维是运用计算集科学的基础概念去求解问题，设计系统和理解人类行为。</p>
<h4 id="计算思维的广泛方法">计算思维的广泛方法：
</h4><p>抽象、自动化、问题分解、递归、权衡、保护、冗余、容错、纠错、和恢复、启发式等等。</p>
<h3 id="编译过程">编译过程
</h3><p>编译程序工作的五个阶段： <code>词法分析</code> 、 <code>语法分析</code> 、 <code>中间代码生成</code> 、 <code>优化</code> 、 <code>目标代码产生</code> 。</p>
<h4 id="词法分析">词法分析
</h4><ul>
<li>任务: 输入源程序，对构成源程序的字符串进行 扫描和分解，识别出单词符号</li>
<li>依循的原则：<code>构词规则</code></li>
<li>描述工具：<code>有限自动机</code> 和 <code>正规式</code></li>
</ul>
<h4 id="语法分析">语法分析
</h4><ul>
<li>任务：在词法分析的基础上，根据语法规则把 单词符号串分解成各类 <code>语法单位(语法范畴)</code></li>
<li>依循的原则：<code>语法规则</code></li>
<li>描述工具：<code>上下文无关文法</code></li>
</ul>
<h4 id="中间代码产生">中间代码产生
</h4><ul>
<li>任务：对各类语法单位按语言的语义进行初步翻译</li>
<li>依循的原则：<code>语义规则</code></li>
<li>描述工具：<code>属性文法</code></li>
<li>中间代码：<code>三元式，四元式，树，...</code></li>
</ul>
<img src="images/04.png" alt="在这里插入图片描述" style="zoom:50%;" />
<h4 id="优化">优化
</h4><ul>
<li>任务：对前阶段产生的中间代码进行加工变换， 以期在最后阶段产生更高效的目标代码</li>
<li>依循的原则：<code>程序的等价变换规则</code></li>
</ul>
<h4 id="目标代码产生">目标代码产生
</h4><ul>
<li>任务: 把中间代码变换成特定机器上的<strong>目标代码</strong></li>
<li>依赖于硬件系统结构和机器指令的含义</li>
</ul>
<p>目标代码三种形式</p>
<ul>
<li>汇编指令代码: 需要进行汇编</li>
<li>绝对指令代码: 可直接运行</li>
<li>可重新定位指令代码: 需要连接</li>
</ul>
<p>可以直接运行的目标代码是绝对指令代码。</p>
<h3 id="编译程序的结构">编译程序的结构
</h3><h4 id="编译程序总框">编译程序总框
</h4><img src="images/05.png" alt="编译程序总框" style="zoom:50%;" />
<h4 id="出错处理">出错处理
</h4><ul>
<li><strong>出错处理程序</strong>：发现源程序中的错误，把有关错误信息报告给用户</li>
<li>语法错误： 源程序中不符合语法（或词法）规则的错误；非法字符、括号不匹配、缺少…</li>
<li>语义错误： 源程序中不符合语义规则的错误 ；说明错误、作用域错误、类型不一致…</li>
</ul>
<h4 id="遍pass">遍(pass)
</h4><p>遍： 对源程序或源程序的中间表示 从头到尾扫描一次</p>
<p><strong>阶段</strong>与<strong>遍</strong>是不同的概念</p>
<ul>
<li>一遍可以由若干段组成（词法+语法+语义）</li>
<li>一个阶段也可以分若干遍来完成（优化）</li>
</ul>
<h4 id="编译前端与后端">编译前端与后端
</h4><img src="images/06.png" alt="编译前端和后端" style="zoom:50%;" />
<p><strong>编译前端</strong>：与源语言有关，如词法分析，语法分析，语义分析与中间代码产生，与机器无关的优化</p>
<p><strong>编译后端</strong>：与目标机有关，与目标机有关的优化，目标代码产生</p>
<p>带来的好处</p>
<ul>
<li>程序逻辑结构清晰</li>
<li>优化更充分，有利于移植</li>
</ul>
<img src="images/07.png" alt="前后端" style="zoom:50%;" />
<h3 id="编译程序生成">编译程序生成
</h3><h4 id="以汇编语言和机器语言为工具">以汇编语言和机器语言为工具
</h4><ul>
<li>优点: 可以针对具体的机器，充分发挥计算机的系统功能；生成的程序效率高</li>
<li>缺点: 程序难读、难写、易出错、难维护、生产的效率低</li>
</ul>
<h4 id="高级语言书写">高级语言书写
</h4><h5 id="一个高级语言编写的编译器">一个高级语言编写的编译器：
</h5><img src="images/08.png" alt="一个高级语言编写的编译器" style="zoom: 50%;" />
<h5 id="利用已有的某种语言的编译程序实现另一语言的编译程序">利用已有的某种语言的编译程序实现另一语言的编译程序
</h5><img src="images/09.png" alt="利用已有某种语言的编译程序实现另一种语言的编译程序" style="zoom:50%;" />
<p>​	P1 是一个可以在 A 机器上运行的编译程序（类似 gcc.exe ）即  <code>L1ToA.A</code> ，可以将一个 L1 语言的代码编译成一个可以在 A 上运行的程序</p>
<p>​	这时我们用 L1 语言写一个编译 L2 语言的编译器 P2 ，即  <code>L2ToA.L1</code>  为了能够在 A 机器上运行，所以我们需要上面的编译器来编译这个代码，得到  <code>L2ToA.A</code>  这样就得到了一个 L2 语言的编译器（例如我们用 C++ 语言编写一个 Python 的编译器 python.cpp ，然后用 g++.exe  编译链接得到一个可以运行的 Python 的编译器  python.exe ）</p>
<h5 id="移植方法把一种机器上的编译程序移植到另一种机器上">移植方法：把一种机器上的编译程序移植到另一种机器上
</h5><img src="images/10.png" alt="编译器的移植" style="zoom: 33%;" />
<p>​	例如现在有一个在A平台（例如Windows）下的L语言（例如c++)的编译器，要移植这个编译器到B平台（Linux）下，我们拥有A平台下的一个L语言的编译器（例如g++.exe）即 <code>LToA.A</code> ，我们可以用L语言写一个针对B平台下的L语言的编译器（例如Linux中的g++.cpp）即 <code>LToB.L</code> ，在A平台下编译即可得到一个在A平台下运行并可以编译出在B平台的下运行的L语言的编译器(P2: <code>LToB.A</code>)，然后再用这个A平台下的编译器编译我们的代码（ <code>LToB.L</code>）就可以得到一个在B平台下运行的编译器 <code>LToB.B</code></p>
<p>打个比方：</p>
<p>我们用c++ 编写一个 <code>g++ForLinux.cpp</code> 然后用 <code>g++.exe</code> 编译，得到 <code>g++ForLinux.exe</code> 然后用 <code>g++ForLinux.exe</code> 编译 <code>g++ForLinux.cpp</code> 就可以得到在Linux下运行的 <code>g++ForLinux</code> c++编译器了。</p>
<h5 id="自编译方式">自编译方式
</h5><p>就是编写L的编译器就用L的一小部分  L 1 L_1 L1​ 写一个编译器，然后编译  L 1 + L 2 L_1 + L_2 L1​+L2​ 得到一个较大的编译器，这样不断的重复下去，利用语言自己来写完整的编译器。</p>
<h5 id="编译程序自动产生">编译程序自动产生
</h5><p>编译程序-编译程序，编译程序产生器，编译程序书 写系统</p>
<p>LEX：词法分析程序产生器</p>
<p>YACC：语法分析程序产生器</p>
<img src="images/11.png" alt="编译程序自动产生" style="zoom:50%;" />
<h2 id="第二章-高级程序设计语言概述">第二章 高级程序设计语言概述
</h2><h3 id="常用的高级程序设计语言">常用的高级程序设计语言
</h3><h4 id="高级程序设计语言的优点">高级程序设计语言的优点
</h4><p>相对机器语言或汇编语言，高级程序设计语言</p>
<ul>
<li>更接近于数学语言和工程语言，更直观、自然和易 于理解</li>
<li>更容易验证其正确性、改错</li>
<li>编写程序的效率更高</li>
<li>更容易移植</li>
</ul>
<h3 id="程序设计语言的定义">程序设计语言的定义
</h3><p><strong>标识符是语法概念，名字是语义概念</strong></p>
<p>程序语言的定义： **语法 、语义 **</p>
<h4 id="语法">语法
</h4><p><strong>程序</strong>本质上是一定字符集上的<strong>字符串</strong></p>
<p><strong>语法</strong> ：一组规则，用它可以形成和产生一个 <strong>合式(well-formed)</strong> 的程序。</p>
<p><strong>词法规则</strong> ：单词符号的形成规则。</p>
<ul>
<li>单词符号是语言中具有独立意义的最基本结构</li>
<li>一般包括：常数、标识符、基本字、算符、界符等</li>
<li><strong>描述工具：有限自动机</strong></li>
</ul>
<p><strong>语法规则</strong> ：语法单位的形成规则。</p>
<ul>
<li>语法单位通常包括：表达式、语句、分程序、过程、 函数、程序等;</li>
<li>描述工具：上下文无关文法</li>
</ul>
<p><strong>语法规则</strong> 和 <strong>词法规则</strong> 定义了程序的形式结构。</p>
<p>定义语法单位的意义属于 <strong>语义</strong> 问题。</p>
<h4 id="语义">语义
</h4><p><strong>语义</strong> ：一组规则，用它可以定义一个程序的意义 。</p>
<p>描述方法 ：</p>
<ul>
<li>自然语言描述：二义性、隐藏错误和不完整性</li>
<li>形式描述： <em>操作语义 、指称语义 、代数语义</em></li>
</ul>
<h4 id="程序语言的基本功能和层次结构">程序语言的基本功能和层次结构
</h4><p>程序，本质上说是描述一定数据的处理过程 。</p>
<p>程序语言的基本功能 ： <strong>描述数据</strong> 和 <strong>对数据的运算</strong> 。</p>
<h4 id="程序的层次结构">程序的层次结构
</h4><img src="images/12.png" alt="层次结构" style="zoom:50%;" />
<h4 id="程序语言成分的逻辑和实现意义">程序语言成分的逻辑和实现意义
</h4><ul>
<li>抽象的逻辑的意义：数学意义</li>
<li>计算机实现的意义：具体实现</li>
</ul>
<h2 id="第三章-高级程序设计语言的语法描述">第三章 高级程序设计语言的语法描述
</h2><h3 id="上下文无关文法">上下文无关文法
</h3><h4 id="文法">文法
</h4><p><strong>文法</strong> ：描述语言的语法结构的形式规则。</p>
<p>以英文句子： <code>He gave me a book</code> 举例：</p>
<img src="images/16.png" alt="以英文句子举例" style="zoom:50%;" />
<h4 id="语法描述的几个基本概念">语法描述的几个基本概念
</h4><ul>
<li>有穷 <strong>字母表</strong>（字符集） Σ 中每一个元素称为一个<strong>字符</strong></li>
<li>Σ 上的<strong>字</strong>（也叫<strong>字符串</strong>） 是指由 Σ 中的 字符所构成的一个有穷序列</li>
<li>空字 ε ：不包含任何字符的序列</li>
<li>Σ* ：表示 Σ 上的所有字的全体，包含空字 ε</li>
</ul>
<p>例如: 设  ∑ = { a , b } ，则 Σ* = { ϵ , a , b , a a , a b , b a , b b , a a a , . . . }</p>
<ul>
<li>Σ* 的子集 U 和 V 的**连接（积）**定义为 UV = { αβ| α∈U , β∈V }</li>
<li>V*：<strong>闭包</strong> V+：正规闭包</li>
</ul>
<p>eg: 设  U = { α , α α } ，显然 ：</p>
<p>U*= { ϵ , a , a a , a a a , a a a a , … }</p>
<p>U<span style="vertical-align:super;">+</span> = { a , a a , a a a , a a a a , … }</p>
<p><em>闭包与正规闭包的区别： V 若无空字， V* 中有空字，而  V<span style="vertical-align:super;">+</span> 无空字</em>。</p>
<h4 id="上下文无关文法-1">上下文无关文法
</h4><p>上下文无关文法 G 是一个四元组  G = ( V<span style="vertical-align:sub;">T</span> ，V<span style="vertical-align:sub;">N</span>,  S ，P ) ，其中:</p>
<ul>
<li>V<span style="vertical-align:sub;">T</span>：<code>终结符(Terminal)</code>集合 ( 非空 )</li>
<li>V<span style="vertical-align:sub;">N</span>：<code>非终结符(Noterminal)</code> 集合 ( 非空 ) ，且  VT</span> ⋂ V<span style="vertical-align:sub;">N</span> = ∅</li>
<li>S：文法的 <code>开始符号</code>， S ∈  V<span style="vertical-align:sub;">N</span></li>
<li>P：<code>产生式</code> 集合(有限)，每个产生式形式为  P 定 义 为 P→ α , P ∈ V<span style="vertical-align:sub;">N</span> ,  α ∈ ( V<span style="vertical-align:sub;">T</span> ⋃ V<span style="vertical-align:sub;">N</span> ) *</li>
<li>开始符 S 至少必须在某个产生式的左部出现一次</li>
</ul>
<p>eg: 定义只含  +, ∗ 的算术表达式的文法  G = &lt; { i , + , ∗ , ( , ) } ， { E } ， E ， P &gt; ，其中，P 由下列产生式组成：</p>
<ul>
<li>E → i</li>
<li>E → E + E</li>
<li>E → E ∗ E</li>
<li>E → ( E )</li>
</ul>
<h4 id="巴科斯范式bnf">巴科斯范式（BNF）
</h4><ul>
<li>“ → ” 用 “ : : =” 表示。</li>
<li>约定  { P → α<span style="vertical-align:sub;">1</span>  P → α<span style="vertical-align:sub;">2</span> … p → α<span style="vertical-align:sub;">n</span>  }  可 缩 写 为 ⟹ P → α<span style="vertical-align:sub;">1 </span>∣ α<span style="vertical-align:sub;">2</span> ∣ ⋯ ∣ α<span style="vertical-align:sub;">n</span> ,  其中 “  ∣ ” 读成 ”或“ ，称  α <span style="vertical-align:sub;">i</span>为  P 的一个候选式， 故给出一个文法时将只给出 <code>开始符号</code> 和 <code>产生式</code> , 如图：</li>
</ul>
<img src="images/17.png" alt="巴科斯范式" style="zoom:50%;" />
<p>G ( E ) 里的  E 是指开始符号。</p>
<h3 id="32-文法与语言">3.2 文法与语言
</h3><h4 id="推导">推导
</h4><p>定义： 称 αAβ 直接推出 αγβ，即  αAβ ⟹ αγβ , 仅当  A → γ 是一个产生式，且α，β∈(V<span style="vertical-align:sub;">T</span> ∪ V<span style="vertical-align:sub;">N</span>)* 。</p>
<p>如果  α<span style="vertical-align:sub;">1 </span>⟹ α<span style="vertical-align:sub;">2</span> ⟹ ⋯ ⟹ α<span style="vertical-align:sub;">n</span> ，则我们称这个序列是 从 α<span style="vertical-align:sub;">1 </span>到 α<span style="vertical-align:sub;">n</span> 的一个 <code>推导</code> 。若存在一个从   α<span style="vertical-align:sub;">1 </span>到 α<span style="vertical-align:sub;">n</span>  的 推导，则称   α<span style="vertical-align:sub;">1 </span>可以推导出 α<span style="vertical-align:sub;">n</span> 。</p>
<p>对文法  G ( E ) ： E → i ∣ E + E ∣ E ∗ E ∣ ( E )</p>
<p>E ⟹ ( E ) ⟹ ( E + E ) ⟹ ( i + E ) ⟹ E ( i + i )</p>
<h4 id="句型句子和语言">句型、句子和语言
</h4><p>我们定义：α<span style = "vertical-align:sub; ">1</span> =∗⇒  α<span style="vertical-align:sub;">n</span> ,  α<span style="vertical-align:sub;">1</span> 出发，经过 0 步或若干步推出 α<span style="vertical-align:sub;">n</span> ;</p>
<p>α<span style = "vertical-align:sub; ">1</span> =+⇒  α<span style="vertical-align:sub;">n</span> ,  α<span style="vertical-align:sub;">1</span> 出发，经过 1 步或若干步推出 α<span style="vertical-align:sub;">n</span> 。</p>
<p>因此，  α =∗⇒  β 即为  α = β 以及  α =+⇒   β   (这里的  + 、* 都是在 ⇒ 的上面）</p>
<p>由以上定义可以得出句型、句子和语言的定义：</p>
<p>假定G是一个文法，S 是它的开始符号。</p>
<ul>
<li>如果  S=∗⇒  α，则称  α 是一个 <code>句型</code></li>
<li>仅含终结符号的句型是一个 <code>句子</code>。</li>
<li>文法G所产生的句子的全体是一个 <code>语言</code>，记为  L ( G ) : L ( G ) = { α ∣ S =+⇒ α , α ∈ V <span style="vertical-align:sub;">T </span><span style="vertical-align:super;">∗</span> }</li>
</ul>
<h4 id="句型和句子练习">句型和句子练习
</h4><p>代换思想：</p>
<img src="images/18.png" alt="证明某个句子是某个文法的句子" style="zoom: 40%;" />
<h5 id="从文法到语言">从文法到语言
</h5><p>给定文法判断所产生的语言是什么，其实就是一个递归的思想：</p>
<img src="images/19.png" alt="给定文法判断所产生的语言是什么，其实就是一个递归的思想" style="zoom:50%;" />
<img src="images/20.png" alt="判断文法产生的语言" style="zoom:50%;" />
<h5 id="从语言到文法">从语言到文法
</h5><p>请给出产生语言为  { a<span style="vertical-align:super;">n</span> b<span style="vertical-align:super;">n</span> ∣ n ≥ 1 }  的文法:</p>
<p>G 3 ( S ) ：</p>
<ul>
<li>S → a S b</li>
<li>S → a b</li>
</ul>
<img src="images/21.png" alt="语言到文法" style="zoom:50%;" />
<h3 id="33-语法树与二义性">3.3 语法树与二义性
</h3><h4 id="推导与语法树">推导与语法树
</h4><h5 id="左推导和右推导">左推导和右推导
</h5><p>从一个句型到另一个句型的推导往往不唯一，从推导的方向看有两种：</p>
<ul>
<li><strong>最左推导</strong>：任何一步  α ⇒ β  都是对  α 中的中的 <strong>左非终结符</strong> 进行替换</li>
<li><strong>最右推导</strong> ( 规范推导 ) ：任何一步  α ⇒ β 都是对  α 中的中的<strong>右非终结符</strong>进行替换</li>
</ul>
<h5 id="语法树">语法树
</h5><ul>
<li>用一张图表示一个句型的推导, 称为 <code>语法树</code></li>
<li>一棵语法树是不同推导过程的共性抽象</li>
</ul>
<img src="images/22.png" alt="最左推导语法树，如果用最有推导语法树会不同" style="zoom:50%;" />
<p>注意：</p>
<ul>
<li>树中间，父子结点 <code>可以同名</code></li>
<li>语法树不反应结点的产生先后顺序，只反映语法符号的定义或者说是构成关系</li>
</ul>
<h5 id="二义性ambiguity">二义性(ambiguity)
</h5><ul>
<li><code>文法的二义性</code> ：如果一个 <strong>文法</strong> 存在 <strong>某个句子</strong> 对应 <strong>两棵不同的语法树</strong> ，则说这个文法是二义的  G ( E ) ： E → i ∣ E + E ∣ E ∗ E ∣ ( E )  是二义文法</li>
<li><code>语言的二义性</code> ：一个语言是二义的，如果（那么） <strong>对它不存在无二义的文法</strong> 。对于语言L，可能存在G和G’，使得  L ( G ) = L ( G ’ ) = L ，有可能其中一个文法为二义的， 另一个为无二义的</li>
</ul>
<img src="images/23.png" alt="两种文法" style="zoom:50%;" />
<p>二义性问题是 <strong>不可判定问题</strong> ，即不存在一个算法，它能在有限步骤内，确切地判定一个文法<br>
对于是否是二义的 ，可以找到一组无二义文法的充分条件</p>
<h3 id="34-形式语言鸟瞰">3.4 形式语言鸟瞰
</h3><p>乔姆斯基于1956年建立形式语言体系，他把文 法分成四种类型：0，1，2，3型 。</p>
<ul>
<li>0型(短语文法，图灵机)：产生式形如： α → β ，其中： α ∈ ( V<span style="vertical-align:sub;">T</span> ∪ V<span style="vertical-align:sub;">N</span> ) * 且 <strong>至少含有一个非终结符</strong> ; β ∈ ( V<span style="vertical-align:sub;">T</span> ∪ V<span style="vertical-align:sub;">N</span> ) *</li>
<li>1型(上下文有关文法，线性界限自动机) ：产生式形如： α → β  ，其中： ∣ α ∣ ≤ ∣ β ∣ ，仅  S → ε 例外</li>
<li>2型(上下文无关文法，非确定下推自动机) ： 产生式形如： A → β , 其中： A ∈ V<span style="vertical-align:sub;">N</span> ； β ∈ ( V<span style="vertical-align:sub;">T</span> ∪ V<span style="vertical-align:sub;">N</span> ) * （可以利用栈分析）</li>
<li>3型(正规文法，有限自动机)： 产生式形如： A → αB 或  A → α （右线性文法）其中：α∈V<span style="vertical-align:sub;">T</span>*；A，B∈V<span style="vertical-align:sub;">N</span> ；（左线性文法：产生式形如： A → Bα  或  A → α ）</li>
</ul>
<h4 id="四种类型文法描述能力比较">四种类型文法描述能力比较
</h4><img src="images/24.png" alt="文法描述能力比较" style="zoom: 67%;" />
<h4 id="上下文无关文法-2">上下文无关文法
</h4><img src="images/25.png" alt="可以用上下文无关法产生的文法" style="zoom:50%;" />
<p>（自嵌套语言仅能由上下文无关文法产生)</p>
<h4 id="上下文有关文法">上下文有关文法
</h4><img src="images/26.png" alt="上下文有关文法" style="zoom:50%;" />
<h4 id="0型语言">0型语言
</h4><p>程序设计语言不是上下文无关语言，甚至不是上下文有关语言，只能由0型语言产生，如：</p>
<img src="images/27.png" alt="0型语言" style="zoom:50%;" />
<p>对于无法利用上下文无关法分析的部分一般交由语义分析处理。</p>
<h2 id="习题">习题
</h2><p>课后习题，题干和过程引用<a class="link" href="https://wenku.baidu.com/view/73c26dada1c7aa00b42acb1a.html"  target="_blank" rel="noopener"
    >网上的资料</a>了</p>
<img src="images/28.png" alt="习题1" style="zoom:50%;" />
<img src="images/29.png" alt="习题2" style="zoom:50%;" />
<img src="images/30.png" alt="习题3" style="zoom:50%;" />
<img src="images/31.png" alt="习题4" style="zoom:50%;" />
<img src="images/32.png" alt="习题5" style="zoom:50%;" />
<p>（end)</p>
<hr>
<h2 id="参考">参考
</h2><ul>
<li>学习所用，转自<a class="link" href="https://blog.csdn.net/pi31415926535x/article/details/104426642"  target="_blank" rel="noopener"
    >CSDN pi31415926535x</a></li>
<li>《高级程序设计语言编译原理》</li>
</ul>

</section>



    <footer class="article-footer">
    

    <section class="article-lastmod">
        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="12" cy="12" r="9" />
  <polyline points="12 7 12 12 15 15" />
</svg>



        <span>
            最后更新于 2025-03-30
        </span>
    </section></footer>



    
        <link 
                rel="stylesheet" 
                href="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css"integrity="sha384-n8MVd4RsNIU0tAv4ct0nTaAbDJwPJzDEaqSD1odI&#43;WdtXRGWt2kTvGFasHpSy3SV"crossorigin="anonymous"
            ><script 
                src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.js"integrity="sha384-XjKyOOlGwcjNTAIQHIpgOno0Hl1YQqzUOEleOLALmuqehneUG&#43;vnGctmUb0ZY0l8"crossorigin="anonymous"
                defer
                >
            </script><script 
                src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/contrib/auto-render.min.js"integrity="sha384-&#43;VBxd3r6XgURycqtZ117nYw44OOcIax56Z4dCRWbxyPt0Koah1uHoK0o4&#43;/RRE05"crossorigin="anonymous"
                defer
                >
            </script><script>
    window.addEventListener("DOMContentLoaded", () => {
        renderMathInElement(document.body, {
            delimiters: [
                { left: "$$", right: "$$", display: true },
                { left: "$", right: "$", display: false },
                { left: "\\(", right: "\\)", display: false },
                { left: "\\[", right: "\\]", display: true }
            ],
            ignoredClasses: ["gist"]
        });})
</script>
    
</article>

    

    

<aside class="related-content--wrapper">
    <h2 class="section-title">相关文章</h2>
    <div class="related-content">
        <div class="flex article-list--tile">
            
                
<article class="">
    <a href="/Hugo-dev/p/%E7%BC%96%E8%AF%91%E5%8E%9F%E7%90%86-%E5%B1%9E%E6%80%A7%E6%96%87%E6%B3%95%E5%92%8C%E8%AF%AD%E6%B3%95%E5%88%B6%E5%AF%BC%E7%BF%BB%E8%AF%91/">
        
        

        <div class="article-details">
            <h2 class="article-title">编译原理-属性文法和语法制导翻译</h2>
        </div>
    </a>
</article>

            
                
<article class="">
    <a href="/Hugo-dev/p/%E7%BC%96%E8%AF%91%E5%8E%9F%E7%90%86-%E8%AF%8D%E6%B3%95%E5%88%86%E6%9E%90/">
        
        

        <div class="article-details">
            <h2 class="article-title">编译原理-词法分析</h2>
        </div>
    </a>
</article>

            
                
<article class="">
    <a href="/Hugo-dev/p/%E7%BC%96%E8%AF%91%E5%8E%9F%E7%90%86-%E8%AF%AD%E6%B3%95%E5%88%86%E6%9E%90-%E8%87%AA%E4%B8%8A%E8%80%8C%E4%B8%8B%E5%88%86%E6%9E%90/">
        
        

        <div class="article-details">
            <h2 class="article-title">编译原理-语法分析-自上而下分析</h2>
        </div>
    </a>
</article>

            
                
<article class="">
    <a href="/Hugo-dev/p/%E7%BC%96%E8%AF%91%E5%8E%9F%E7%90%86-%E8%AF%AD%E6%B3%95%E5%88%86%E6%9E%90-%E8%87%AA%E4%B8%8B%E8%80%8C%E4%B8%8A%E5%88%86%E6%9E%90/">
        
        

        <div class="article-details">
            <h2 class="article-title">编译原理-语法分析-自下而上分析</h2>
        </div>
    </a>
</article>

            
                
<article class="">
    <a href="/Hugo-dev/p/%E7%BC%96%E8%AF%91%E5%8E%9F%E7%90%86%E7%9F%A5%E8%AF%86%E6%B1%87%E6%80%BB/">
        
        

        <div class="article-details">
            <h2 class="article-title">编译原理知识汇总</h2>
        </div>
    </a>
</article>

            
        </div>
    </div>
</aside>

     
    
        
    <script
    src="https://giscus.app/client.js"
    data-repo="hongyun-yu/Hugo-dev"
    data-repo-id="R_kgDONs2V_A"
    data-category="Announcements"
    data-category-id="DIC_kwDONs2V_M4CmzPf"
    data-mapping="pathname"
    data-strict="0"
    data-reactions-enabled="1"
    data-emit-metadata="0"
    data-input-position="top"
    data-theme="light"
    data-lang="en"
    crossorigin="anonymous"
    async
></script>
<script>
    function setGiscusTheme(theme) {
        let giscus = document.querySelector("iframe.giscus-frame");
        if (giscus) {
            giscus.contentWindow.postMessage(
                {
                    giscus: {
                        setConfig: {
                            theme: theme,
                        },
                    },
                },
                "https://giscus.app"
            );
        }
    }

    (function () {
        addEventListener("message", (e) => {
            if (event.origin !== "https://giscus.app") return;
            handler();
        });
        window.addEventListener("onColorSchemeChange", handler);

        function handler() {
            if (document.documentElement.dataset.scheme === "light") {
                setGiscusTheme('light');
            } else {
                setGiscusTheme('dark_dimmed');
            }
        }
    })();
</script>

    

    <footer class="site-footer">
    <section class="copyright">
        &copy; 
        
        2025 Hongyun
    </section>
    
    <section class="powerby">
        使用 <a href="https://gohugo.io/" target="_blank" rel="noopener">Hugo</a> 构建 <br />
        主题 <b><a href="https://github.com/CaiJimmy/hugo-theme-stack" target="_blank" rel="noopener" data-version="3.26.0">Stack</a></b> 由 <a href="https://jimmycai.com" target="_blank" rel="noopener">Jimmy</a> 设计
    </section>

    
    <section class="running-time">
    本博客已稳定运行
    <span id="runningdays" class="running-days"></span>
    </section>
    
    
    <section class="totalcount">
    
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
    发表了11篇文章 · 
    总计62.49k字
</section>

</footer>




    
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

    
    <div class="pswp__bg"></div>

    
    <div class="pswp__scroll-wrap">

        
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>

        
        <div class="pswp__ui pswp__ui--hidden">

            <div class="pswp__top-bar">

                

                <div class="pswp__counter"></div>

                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>

                <button class="pswp__button pswp__button--share" title="Share"></button>

                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>

                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

                
                
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                        <div class="pswp__preloader__cut">
                            <div class="pswp__preloader__donut"></div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div>
            </div>

            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>

            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>

            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>

        </div>

    </div>

</div><script 
                src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js"integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo="crossorigin="anonymous"
                defer
                >
            </script><script 
                src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js"integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU="crossorigin="anonymous"
                defer
                >
            </script><link 
                rel="stylesheet" 
                href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css"crossorigin="anonymous"
            ><link 
                rel="stylesheet" 
                href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css"crossorigin="anonymous"
            >

            </main>
        </div>
        <script 
                src="https://cdn.jsdelivr.net/npm/node-vibrant@3.1.6/dist/vibrant.min.js"integrity="sha256-awcR2jno4kI5X0zL8ex0vi2z&#43;KMkF24hUW8WePSA9HM="crossorigin="anonymous"
                
                >
            </script><script type="text/javascript" src="/Hugo-dev/ts/main.js" defer></script>
<script>
    (function () {
        const customFont = document.createElement('link');
        customFont.href = "https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap";

        customFont.type = "text/css";
        customFont.rel = "stylesheet";

        document.head.appendChild(customFont);
    }());
</script>
 
<script src="https://npm.elemecdn.com/nprogress@0.2.0/nprogress.js" crossorigin="anonymous"></script>
<link rel="stylesheet" href="https://npm.elemecdn.com/nprogress@0.2.0/nprogress.css" crossorigin="anonymous" />
<script>
    NProgress.start();
    document.addEventListener("readystatechange", () => {
        if (document.readyState === "interactive") NProgress.inc(0.8);
        if (document.readyState === "complete") NProgress.done();
    });
</script>


<style>
  #TableOfContents > ul, ol {
      ul, ol {
          display: none;
      }
      .open {
          display: block;
      }
  }
</style>

<script>
  function initTocHide() {
      
      let toc = document.querySelector(".widget--toc");
      if (!toc) {
          return;
      }
      
      window.addEventListener('scroll', function() {
          
          let openUl = document.querySelectorAll(".open");
          if (openUl.length > 0) {
            openUl.forEach((ul) => {
              ul.classList.remove("open")
            })
          }
          
          let currentLi = document.querySelector(".active-class");
          if (!currentLi) {
              return
          }
          
          if (currentLi.children.length > 1) {
              currentLi.children[1].classList.add("open")
          }
          
          let ul = currentLi.parentElement;
          do {
              ul.classList.add("open");
              ul = ul.parentElement.parentElement;
          } while (ul !== undefined && (ul.localName === 'ul' || ul.localName === 'ol'))
      });
  }
  initTocHide()
</script>


<style>
  #backTopBtn {
      display: none;
      position: fixed;
      bottom: 30px;
      z-index: 99;
      cursor: pointer;
      width: 30px;
      height: 30px;
      background-image: url(https://hongyun-yu.github.io/Hugo-dev/icons/backTop.svg);
  }
</style>

<script>
  

  function initScrollTop() {
      let rightSideBar = document.querySelector(".right-sidebar");
      if (!rightSideBar) {
          return;
      }
      
      let btn = document.createElement("div");
      btn.id = "backTopBtn";
      btn.onclick = backToTop
      rightSideBar.appendChild(btn)
      
      window.onscroll = function() {
          
          if (document.body.scrollTop > 20 || document.documentElement.scrollTop > 20) {
              btn.style.display = "block";
          } else {
              btn.style.display = "none";
          }
      };
  }

  

  function backToTop(){
      window.scrollTo({ top: 0, behavior: "smooth" })
  }

  initScrollTop();
</script>



<script>
    let s1 = '2025-1-20'; 
    s1 = new Date(s1.replace(/-/g, "/"));
    let s2 = new Date();
    let timeDifference = s2.getTime() - s1.getTime();

    let days = Math.floor(timeDifference / (1000 * 60 * 60 * 24));
    let hours = Math.floor((timeDifference % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
    let minutes = Math.floor((timeDifference % (1000 * 60 * 60)) / (1000 * 60));

    let result = days + "天" + hours + "小时" + minutes + "分钟";
    document.getElementById('runningdays').innerHTML = result;
</script>


<script defer src="https://cn.vercount.one/js"></script>
<script>
    function showHideView() {
        
        let viewCounts = document.querySelectorAll("#viewCount");
        if (viewCounts) {
            
            let article =  document.querySelector(".article-page");
            if (!article) {
                viewCounts.forEach(ele => {
                    ele.style.display = 'none';
                });
            }
        }
    }
    showHideView();
</script>





<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css">
<script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js"></script>

<script src="https://cdn.jsdelivr.net/npm/meting@2/dist/Meting.min.js"></script>


<meting-js
	server="netease"
	type="playlist"
	fixed="true"
    order="random"
    list-max-height="1500px"
	id="13187846602">
</meting-js>

<script>
    ap = null
    Object.defineProperty(document.querySelector('meting-js'),"aplayer",{
        set: function(aplayer) {
            ap = aplayer
            ready();
        }
    });
    isRecover = false;
    function ready(){
        ap.on('canplay', function () {
            if(!isRecover){
                if(localStorage.getItem("musicIndex") != null){
                    musicIndex = localStorage.getItem("musicIndex");
                    musicTime = localStorage.getItem("musicTime");
                    if(ap.list.index != musicIndex){
                        ap.list.switch(musicIndex);
                    }else{
                        ap.seek(musicTime);
                        ap.play();
                        localStorage.clear();
                        isRecover = true;
                    }
                }else{
                    isRecover = true;
                }
            }
        });
    }
    window.onbeforeunload = function(event) {
        if(!ap.audio.paused){
            musicIndex = ap.list.index;
            musicTime = ap.audio.currentTime;
            localStorage.setItem("musicIndex",musicIndex);
            localStorage.setItem("musicTime",musicTime);
        }
    };
</script>


<script src="https://cdn.jsdelivr.net/npm/pjax/pjax.min.js"></script>
<script>
	var pjax = new Pjax({
	  selectors: [
	    ".main-container"
	  ]
	})

	
	pjax._handleResponse = pjax.handleResponse;
    pjax.handleResponse = function(responseText, request, href, options) {
        if (request.responseText.match("<html")) {
            
            let newDom = new DOMParser().parseFromString(responseText, 'text/html');
            
            let bodyClass = newDom.body.className;
            document.body.setAttribute("class", bodyClass)
            
            pjax._handleResponse(responseText, request, href, options);
        } else {
            
        }
    }

	
	document.addEventListener('pjax:complete', () => {
        
        window.Stack.init();
    })

</script>




<div id="particles-js"></div>
<script src=https://hongyun-yu.github.io/Hugo-dev/background/particles.min.js></script>
<script>
  particlesJS.load('particles-js', "https://hongyun-yu.github.io/Hugo-dev/background/particlesjs-config.json", function() {
    console.log('particles.js loaded - callback');
  });
</script>

<style>
  #particles-js {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: -1;
  }
</style>




<style>
    @font-face {
      font-family: 'LXGWWenKai';
      src: url(https://hongyun-yu.github.io/Hugo-dev/font/LXGWWenKai-Medium.ttf) format('truetype');
    }
  
    :root {
      --base-font-family: 'LXGWWenKai';
      --code-font-family: 'LXGWWenKai';
    }
  </style>
  
    </body>
</html>

<body>
    <button class="btn" onclick="smoothScrollTop()" id="goTopBtn" title="Go to top">TOP</button>
  </body>